# -*- coding: utf-8 -*-

import os
import os.path
import lit.util

# test_source_root: The root path where tests are located.
this_dir = os.path.dirname(__file__)
tool_dir = os.path.join(this_dir, 'tools')

config.environment['test_input_dir'] = os.path.join(this_dir, 'Input')

config.environment['CC'] = 'cc'
config.environment['CXX'] = 'c++'

config.substitutions.append(
    ('%{python}',
    sys.executable))
config.substitutions.append(
    ('%{bear}',
    lit_config.params['EAR_EXE']))
config.substitutions.append(
    ('%{libear}',
    lit_config.params['EAR_LIB']))
config.substitutions.append(
    ('%{intercept-build}',
    '{python} {bear} -l {libear} -vvvv'.format(python=sys.executable,
                                               bear=lit_config.params['EAR_EXE'],
                                               libear=lit_config.params['EAR_LIB'])))
config.substitutions.append(
    ('%{cdb_diff}',
    '{python} {cdb_diff}'.format(python=sys.executable,
                                 cdb_diff=os.path.join(tool_dir, 'cdb_diff.py'))))
